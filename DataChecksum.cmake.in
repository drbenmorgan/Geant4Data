# - Template for checksumming of Geant4 data library for CMake 2.6.4
#
#          Copyright Ben Morgan <bmorgan.warwick@gmail.com> 2012  
# Distributed under the Boost Software License, Version 1.0.
#    (See accompanying file LICENSE_1_0.txt or copy at
#          http://www.boost.org/LICENSE_1_0.txt)

message(STATUS "verifying @GEANT4_DATA_ARCHIVE@...")

execute_process(
  COMMAND ${CMAKE_COMMAND} -E md5sum @GEANT4_DATA_DOWNLOAD_DIR@/@GEANT4_DATA_ARCHIVE@
  OUTPUT_VARIABLE md5calc
  OUTPUT_STRIP_TRAILING_WHITESPACE
  RESULT_VARIABLE _result_code
  )

if(NOT _result_code EQUAL 0)
  message(FATAL_ERROR "error: computing md5sum of @GEANT4_DATA_ARCHIVE@ failed")
endif()

message(STATUS ${md5calc})

message(STATUS "verifying @GEANT4_DATA_ARCHIVE@... done")

